function e(e,n,t,r){Object.defineProperty(e,n,{get:t,set:r,enumerable:!0,configurable:!0})}function n(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},i={},o=t.parcelRequired7d4;null==o&&((o=function(e){if(e in r)return r[e].exports;if(e in i){var n=i[e];delete i[e];var t={id:e,exports:{}};return r[e]=t,n.call(t.exports,t,t.exports),t.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,n){i[e]=n},t.parcelRequired7d4=o),o.register("7PhYn",(function(n,t){var r,i;e(n.exports,"register",(()=>i),(e=>i=e)),e(n.exports,"resolve",(()=>r),(e=>r=e));var o={};i=function(e){for(var n=Object.keys(e),t=0;t<n.length;t++)o[n[t]]=e[n[t]]},r=function(e){var n=o[e];if(null==n)throw new Error("Could not resolve bundle with id "+e);return n}})),o("7PhYn").register(JSON.parse('{"brTCj":"index.78e31b92.js","8eEgI":"sprite.a70c38f4.svg","lUZMr":"rain-day.40f17c4a.jpg","7i5LD":"rain-night.2091ff00.jpg","Tkfx2":"clear-day.15df788b.jpg","k4940":"clear-night.b04f44a7.png","81HxP":"cloudy-day.fdc144ce.png","ipnGj":"cloudy-night.65c4e3fa.jpg","a2J82":"mist-day.8a284846.jpg","lnn3j":"mist-night.d5798afd.jpg","l98Om":"snow-day.bb315ae8.jpg","kKnvC":"snow-night.cf345c19.jpg"}'));var s=class{_parentElement;render(e){const n=this._generateMarkup(e);this._clear(),this._parentElement.insertAdjacentHTML("afterbegin",n)}_clear(){this._parentElement.innerHTML=""}_generateMarkup(e){}addClassToParentEl(e){this._parentElement.classList.add(e)}removeClassFromParent(e){this._parentElement.classList.remove(e)}};var a,c=new class extends s{_parentElement=document.querySelector(".overlay");_searchBtn=document.querySelector(".search__btn");_closeBtn=document.querySelector(".overlay__close");constructor(){super()}_hideWindow(e){e(this)}_showWindow(e){e(this)}showOverlay(e){this._searchBtn.addEventListener("click",this._showWindow.bind(this,e))}hideOverlay(e){this._closeBtn.addEventListener("click",this._hideWindow.bind(this,e))}appearOverlay(){this._parentElement.classList.remove("overlay--hide")}disappearOverlay(){this._parentElement.classList.add("overlay--hide")}};o.register("kVZsc",(function(n,t){var r;e(n.exports,"getBundleURL",(()=>r),(e=>r=e));var i={};function o(e){return(""+e).replace(/^((?:https?|file|ftp):\/\/.+)\/[^/]+$/,"$1")+"/"}r=function(e){var n=i[e];return n||(n=function(){try{throw new Error}catch(n){var e=(""+n.stack).match(/(https?|file|ftp):\/\/[^)\n]+/g);if(e)return o(e[2])}return"/"}(),i[e]=n),n}})),a=o("kVZsc").getBundleURL("brTCj")+o("7PhYn").resolve("8eEgI");var l=class extends s{_icons;setIconByCondition(e,n){return e.includes("rain")||e.includes("drizzle")||e.includes("sleet")?n?this._icons.rainDay:this._icons.rainNight:e.includes("clear")||e.includes("sunny")?n?this._icons.clearDay:this._icons.clearNight:e.includes("cloudy")||e.includes("overcast")?n?this._icons.cloudyDay:this._icons.cloudyNight:e.includes("mist")||e.includes("fog")?n?this._icons.mistDay:this._icons.mistNight:e.includes("snow")||e.includes("ice")||e.includes("blizzard")?n?this._icons.snowDay:this._icons.snowNight:e.includes("thundary")?this._icons.lightingDay?this._icons.lightingDay:n?this._icons.rainDay:this._icons.rainNight:void 0}};var d,u=new class extends l{_parentElement=document.querySelector(".current");_icons={rainDay:"icon-rainy-full",rainNight:"icon-rainy-full",clearDay:"icon-clear-day-full",clearNight:"icon-clear-night-full",cloudyDay:"icon-cloudy-day-full",cloudyNight:"icon-cloudy-night-full",mistDay:"icon-cloud-fog",mistNight:"icon-cloud-fog",snowDay:"icon-snowy-full",snowNight:"icon-snowy-full",lightingDay:"icon-lightning-full",lightingNight:"icon-lightning-full"};constructor(){super()}_generateMarkup(e){return`\n      <h3 class="current__date">${e.location.datetime.toLocaleDateString("en-US",{weekday:"long",day:"2-digit",month:"short",year:"numeric"})}</h3>\n        <div class="current__content">\n          <div class="current__card">\n            <p class="current__temp">${e.current.temp.toFixed(0)}&#176;</p>\n            <p class="current__location">${e.location.name}, ${e.location.country}</p>\n          </div>\n          <div class="current__card">\n            <svg class="current__icon">\n              <use xlink:href="${n(a)}#${this.setIconByCondition(e.current.condition,e.current.is_day)}"></use>\n            </svg>\n            <p class="current__condition">${0===e.current.is_day?"Night":"Day"}, ${e.current.condition.charAt(0).toUpperCase()+e.current.condition.slice(1)}</p>\n          </div>\n        </div>\n    `}};d=o("kVZsc").getBundleURL("brTCj")+o("7PhYn").resolve("lUZMr");var h;h=o("kVZsc").getBundleURL("brTCj")+o("7PhYn").resolve("7i5LD");var y;y=o("kVZsc").getBundleURL("brTCj")+o("7PhYn").resolve("Tkfx2");var _;_=o("kVZsc").getBundleURL("brTCj")+o("7PhYn").resolve("k4940");var g;g=o("kVZsc").getBundleURL("brTCj")+o("7PhYn").resolve("81HxP");var f;f=o("kVZsc").getBundleURL("brTCj")+o("7PhYn").resolve("ipnGj");var p;p=o("kVZsc").getBundleURL("brTCj")+o("7PhYn").resolve("a2J82");var m;m=o("kVZsc").getBundleURL("brTCj")+o("7PhYn").resolve("lnn3j");var v;v=o("kVZsc").getBundleURL("brTCj")+o("7PhYn").resolve("l98Om");var w;w=o("kVZsc").getBundleURL("brTCj")+o("7PhYn").resolve("kKnvC");var b=new class extends l{_parentElement=document.querySelector(".hero");_icons={rainDay:n(d),rainNight:n(h),clearDay:n(y),clearNight:n(_),cloudyDay:n(g),cloudyNight:n(f),mistDay:n(p),mistNight:n(m),snowDay:n(v),snowNight:n(w)};constructor(){super()}_generateMarkup(e){return`\n            <img\n              class="hero__img"\n              src="${this.setIconByCondition(e.condition,e.is_day)}"\n              alt="${e.condition}"\n            />\n        `}};var E=new class extends l{_parentElement=document.querySelector(".future");_icons={rainDay:"icon-rainy-full",rainNight:"icon-rainy-full",clearDay:"icon-clear-day-full",clearNight:"icon-clear-night-full",cloudyDay:"icon-cloudy-day-full",cloudyNight:"icon-cloudy-night-full",mistDay:"icon-cloud-fog",mistNight:"icon-cloud-fog",snowDay:"icon-snowy-full",snowNight:"icon-snowy-full",lightingDay:"icon-lightning-full",lightingNight:"icon-lightning-full"};constructor(){super()}_generateCardMarkup(e){return`\n            <div class="future__card card">\n                  <svg class="card__icon">\n                    <use xlink:href="${n(a)}#${this.setIconByCondition(e.condition,e.is_day)}"></use>\n                  </svg>\n                  <div class="card__temp">${e.temp.toFixed(0)}&#176;</div>\n                  <div class="card__day">${e.date.toLocaleDateString("en-US",{weekday:"short"})}</div>\n            </div>\n        `}_generateMarkup(e){return e.map((e=>this._generateCardMarkup(e))).join("")}};var D=class{_parentElement;_colors;changeBgWithCondition(e,n){if(e.includes("rain")||e.includes("drizzle")||e.includes("sleet")||e.includes("thundery")){if(n)return void(this._parentElement.style.backgroundColor=this._colors.rainDay);this._parentElement.style.backgroundColor=this._colors.rainNight}else if(e.includes("clear")||e.includes("sunny")){if(n)return void(this._parentElement.style.backgroundColor=this._colors.clearDay);this._parentElement.style.backgroundColor=this._colors.clearNight}else if(e.includes("cloudy")||e.includes("overcast")){if(n)return void(this._parentElement.style.backgroundColor=this._colors.cloudyDay);this._parentElement.style.backgroundColor=this._colors.cloudyNight}else if(e.includes("mist")||e.includes("fog")){if(n)return void(this._parentElement.style.backgroundColor=this._colors.mistDay);this._parentElement.style.backgroundColor=this._colors.mistNight}else if(e.includes("snow")||e.includes("ice")||e.includes("blizzard")){if(n)return void(this._parentElement.style.backgroundColor=this._colors.snowDay);this._parentElement.style.backgroundColor=this._colors.snowNight}}};var C=new class extends D{_parentElement=document.querySelector(".container");_colors={rainDay:"#9bf6ff",rainNight:"#67c8eb",clearDay:"#caffbf",clearNight:"#bdb2ff",cloudyDay:"#a0c4ff",cloudyNight:"#7ba2e3",mistDay:"#CAF6E6ff",mistNight:"#A5C8C4ff",snowDay:"#a8def1",snowNight:"#a0c4ff"};constructor(){super()}};var k=new class{_parentElement=document.querySelector(".spinner");showSpinner(){this._parentElement.classList.add("spinner__show")}hideSpinner(){this._parentElement.classList.remove("spinner__show")}};var N=new class extends s{_parentElement=document.querySelector(".error");_generateMarkup(e){return`\n            <p class="error__msg">\n                ${e}\n            </p>\n        `}showError(){this._parentElement.classList.add("error__show")}hideError(){this._parentElement.classList.remove("error__show")}};var S=new class extends s{_parentElement=document.querySelector(".search-form");constructor(){super()}submitForm(e){this._parentElement.addEventListener("submit",(function(n){n.preventDefault();const t=new FormData(n.target).get("search_input");e(t),n.target.reset()}))}};var L=new class extends D{_parentElement=document.querySelector(".search__btn");_colors={rainDay:"#79f4ff",rainNight:"#46bde9",clearDay:"#a1fb8f",clearNight:"#a596f8",cloudyDay:"#81b0fb",cloudyNight:"#588ae0",mistDay:"#b1e1cd",mistNight:"#91b9b4",snowDay:"#88d4f0",snowNight:"#7cadfb"};showBtn(){this._parentElement.parentNode.classList.remove("search__hide")}};const j=async function(e,n="Something was wrong!"){try{const t=await fetch(e);if(!t.ok)throw new Error(n);return await t.json()}catch(e){throw new Error(n)}},x={current:{},future:{},location:{}},H=function(e){e.removeClassFromParent("overlay--hide")},R=function(e){e.addClassToParentEl("overlay--hide")},B=async function(e){try{c.disappearOverlay(),k.showSpinner(),await async function(e){const n=`https://api.weatherapi.com/v1/forecast.json?key=29f186587a4044dda85230845212608&q=${e}&days=7&aqi=no&alerts=no`;try{const e=await j(n,"City Not Found"),{is_day:t,temp_c:r,condition:{text:i}}=e.current;x.current={is_day:t,condition:i.toLowerCase(),temp:Number(r)},x.future=e.forecast.forecastday.map((e=>({temp:Number(e.day.avgtemp_c),condition:e.day.condition.text.toLowerCase(),date:new Date(e.date),is_day:t}))).slice(1);const{localtime:o,name:s,country:a}=e.location;x.location={datetime:new Date(o),name:s,country:a}}catch(e){throw e}}(e);const{current:n,location:t,future:r}=x;b.render(n),u.render({current:n,location:t}),E.render(r),C.changeBgWithCondition(n.condition,n.is_day),L.changeBgWithCondition(n.condition,n.is_day),k.hideSpinner()}catch(e){k.hideSpinner(),N.render(e.message),N.showError(),c.appearOverlay()}};navigator.geolocation.getCurrentPosition((async e=>{k.showSpinner();try{await async function(e,n){try{const t=`https://api.geoapify.com/v1/geocode/reverse?lat=${n}&lon=${e}&apiKey=40245b20dcef4a169bd05f056eb85049`,r=await j(t,"Cannot Get You"),{features:i}=r,[o]=i;x.city=o.properties.city}catch(e){throw e}}(e.coords.longitude,e.coords.latitude),await B(x.city),k.hideSpinner()}catch(e){k.hideSpinner(),N.render(e.message),N.showError(),c.appearOverlay()}}),(e=>{k.hideSpinner(),N.render("Cannot get you, Trun on your Location !"),N.showError(),c.appearOverlay()})),c.showOverlay(H),c.hideOverlay(R),S.submitForm(B),L.showBtn();
//# sourceMappingURL=index.78e31b92.js.map
